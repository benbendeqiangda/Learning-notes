变化的部分应当作为一个独立的部分

单一责任|一个类应该只有一个引起变化的原因

针对接口编程（实现解耦，不用再关心接口之外的无关方法，可以使用统一的接口对象），而不是具体类

**类应该对扩展开放，对修改关闭**

##### 组合 #####

- 把变化的部分分解出去
- 单独设立一个接口为变化的部分，然后实现各个变化的部分
- 用组合替代继承来实现变化

###### 命令者 ######

在组合的基础上设立中间人（可以取消中间人，变成组合）

##### 观察者 #####

消息源（发布消息）：通过一个内置的队列变量保存观察者，通过观察者暴露的update方法发送消息给观察者（也可以设计由观察者主动拉消息）

观察者接口（订阅消息）：暴露一个update方法用来接收消息源发布的消息

##### 装饰者 #####

一个食品类（例如咖啡类）需要变化的调料类（摩卡，糖，牛奶等等）进行装饰

那就让食品类和调料类实现同一种接口，然后通过接口中的方法进行动态的装饰（调料类在接口中的方法调用食品类中的方法，对食品类对象中接口的方法进行再加工）

实现同一种接口是为了使用多态，可以保留食品类的含义

##### 工厂模式 #####

简单工厂：把变化的部分独立：使用工具类来为其他类根据需要创建不同的类对象

##### 单例模式 #####

单线程：

```java
private static SingleInstance uniqueInstance;
public static SingleInstance getInstance()
{
	if(uniqueInstance==null)
	{
		uniqueInstance=new SingleInstance();
	}
	return uniqueInstance;
}
```

多线程：

- 静态方法加锁：性能低，并且如果已经生成变量了，那就不需要同步这个方法了

  改用Lock加锁，先判断对象是否为空然后加锁

- 直接创建单一变量，不再进行判断：private static SingleInstance uniqueInstance=new SingleInstance();

##### 适配器模式 #####

条件：已经有了别的类的一个对象

目的：将已有的类的对象方法进行改造

在接口的实现类中组合别的类的对象，调用别的类对象的方法来实现接口中的抽象方法，从而将别的类对象改装成该接口的类对象

##### 迭代器 #####

让多个类实现同一个接口，从而实现遍历功能